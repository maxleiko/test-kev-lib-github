// Browserify bundle of kevoree-comp-mytopcomp@0.1.0 - Generated on 2014-05-05 11:05:41
require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({sSC7Dr:[function(a,b){var c=a("kevoree-entities").AbstractComponent,d=c.extend({toString:"MyTopComp",start:function(_super){_super.call(this),this.log.debug(this.toString(),"START")},stop:function(_super){_super.call(this),this.log.debug(this.toString(),"STOP")}});b.exports=d},{"kevoree-entities":7}],"kevoree-comp-mytopcomp":[function(a,b){b.exports=a("sSC7Dr")},{}],3:[function(){},{}],4:[function(a,b){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function d(a){return"function"==typeof a}function e(a){return"number"==typeof a}function f(a){return"object"==typeof a&&null!==a}function g(a){return void 0===a}b.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(a){if(!e(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},c.prototype.emit=function(a){var b,c,e,h,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||f(this._events.error)&&!this._events.error.length))throw b=arguments[1],b instanceof Error?b:TypeError('Uncaught, unspecified "error" event.');if(c=this._events[a],g(c))return!1;if(d(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];c.apply(this,h)}else if(f(c)){for(e=arguments.length,h=new Array(e-1),i=1;e>i;i++)h[i-1]=arguments[i];for(j=c.slice(),e=j.length,i=0;e>i;i++)j[i].apply(this,h)}return!0},c.prototype.addListener=function(a,b){var e;if(!d(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,d(b.listener)?b.listener:b),this._events[a]?f(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,f(this._events[a])&&!this._events[a].warned){var e;e=g(this._maxListeners)?c.defaultMaxListeners:this._maxListeners,e&&e>0&&this._events[a].length>e&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}return this},c.prototype.on=c.prototype.addListener,c.prototype.once=function(a,b){function c(){this.removeListener(a,c),e||(e=!0,b.apply(this,arguments))}if(!d(b))throw TypeError("listener must be a function");var e=!1;return c.listener=b,this.on(a,c),this},c.prototype.removeListener=function(a,b){var c,e,g,h;if(!d(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],g=c.length,e=-1,c===b||d(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(f(c)){for(h=g;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){e=h;break}if(0>e)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(e,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},c.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],d(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},c.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?d(this._events[a])?[this._events[a]]:this._events[a].slice():[]},c.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?d(a._events[b])?1:a._events[b].length:0}},{}],5:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.once=c,d.off=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],6:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("/home/leiko/dev/test-kev-lib-github/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/home/leiko/dev/test-kev-lib-github/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":5}],7:[function(a,b,c){c.KevoreeEntity=a("./lib/KevoreeEntity"),c.AbstractGroup=a("./lib/AbstractGroup"),c.AbstractChannel=a("./lib/AbstractChannel"),c.AbstractNode=a("./lib/AbstractNode"),c.AbstractComponent=a("./lib/AbstractComponent"),c.Port=a("./lib/Port")},{"./lib/AbstractChannel":8,"./lib/AbstractComponent":9,"./lib/AbstractGroup":10,"./lib/AbstractNode":11,"./lib/KevoreeEntity":13,"./lib/Port":15}],8:[function(a,b){var c=a("./KevoreeEntity");b.exports=c.extend({toString:"AbstractChannel",construct:function(){this.inputs={}},internalSend:function(a,b){var c=[];for(var d in this.inputs){var e=this.getKevoreeCore().getCurrentModel();if(e){var f=e.findByPath(d);if(f){var g=f.eContainer();g&&g.started&&c.push(d)}}}this.onSend(a,c,b)},onSend:function(){},localDispatch:function(a){for(var b in this.inputs){var c=this.inputs[b],d=c.getComponent();null!=d&&null!=c.getInputPortMethodName()&&"function"==typeof d[c.getInputPortMethodName()]&&(d.getModelEntity().started?d[c.getInputPortMethodName()](a):this.log.debug(this.toString(),"Component "+d.getName()+"@"+this.getNodeName()+" is stopped. Drop message."))}},addInternalInputPort:function(a){this.inputs[a.getPath()]=a},removeInternalInputPort:function(a){delete this.inputs[a.getPath()]}})},{"./KevoreeEntity":13}],9:[function(a,b){var c=a("./KevoreeEntity"),d=(a("./Port"),a("./KevoreeUI")),e=c.extend({toString:"AbstractComponent",construct:function(){this.inputs={},this.ui=new d(this)},start:function(_super){_super.call(this),this.ui.name=this.name},stop:function(){this.ui.isReady()&&this.ui.destroy()},addInternalInputPort:function(a){if(this.inputs[a.getPath()]=a,"undefined"==typeof this[e.IN_PORT+a.getName()])throw new Error("Unable to find provided port '"+e.IN_PORT+a.getName()+"' (Function defined in class?)");a.setInputPortMethodName(e.IN_PORT+a.getName())},addInternalOutputPort:function(a){this[e.OUT_PORT+a.getName()]=function(b){a.processSend(b)}},removeInternalInputPort:function(a){delete this.inputs[a.getPath()]},removeInternalOutputPort:function(a){this[e.OUT_PORT+a.getName()]=function(){}},setUIContent:function(a,b){b=b.bind(this)||function(){};var c=this;return this.ui.isReady()?(this.ui.setContent(a),b(null,this.ui.getRoot())):void this.ui.initialize(this,this.kCore.getUICommand(),function(d){return d?b(d):(c.ui.setContent(a),b(null,c.ui.getRoot()))})},getUIRoot:function(){return this.ui.getRoot()}});e.IN_PORT="in_",e.OUT_PORT="out_",b.exports=e},{"./KevoreeEntity":13,"./KevoreeUI":14,"./Port":15}],10:[function(a,b){var c=a("./KevoreeEntity");b.exports=c.extend({toString:"AbstractGroup",updateModel:function(a){this.kCore.deploy(a)},push:function(){},pull:function(){}})},{"./KevoreeEntity":13}],11:[function(a,b){var c=a("./KevoreeEntity");b.exports=c.extend({toString:"AbstractNode"})},{"./KevoreeEntity":13}],12:[function(a,b){var c=a("pseudoclass"),d=a("kevoree-library").org.kevoree,e=a("events").EventEmitter,f=new d.impl.DefaultKevoreeFactory,g=c({toString:"Dictionary",construct:function(a){this.entity=a,this.emitter=new e,this.map={}},on:function(a,b){this.emitter.addListener(a,b.bind(this.entity))},off:function(a,b){this.emitter.removeListener(a,b)},getValue:function(a){return this.map[a]},setValue:function(a,b){var c=this.entity.getModelEntity();c.dictionary||(c.dictionary=f.createDictionary()),b=c.dictionary.findValuesByID(a),b||(b=f.createDictionaryValue(),b.name=a,c.dictionary.addValues(b)),b.value=b,this.setEntry(a,b)},setEntry:function(a,b){var c=this.map[a];this.map[a]=b,this.entity["dic_"+a].value=b,this.entity.isStarted()&&(this.entity["dic_"+a].update&&"function"==typeof this.entity["dic_"+a].update&&this.entity["dic_"+a].update.bind(this.entity)(c),this.emitter.emit(a,b,c))},setMap:function(a){var b;if(Object.keys(this.map).length>0)for(var c in a){var d=!1;for(b in this.map)if(c==b){var e=this.map[b];e!=a[b]&&(this.map[b]=a[b],this.emitter.emit(b,this.map[b],e)),d=!0}d||(this.map[c]=a[c])}else this.map=a},getMap:function(){return this.map},cloneMap:function(){var a={};for(var b in this.map)a[b]=this.map[b];return a}});b.exports=g},{events:4,pseudoclass:25}],13:[function(a,b){var c=a("pseudoclass"),d=a("./Dictionary"),e=c({toString:"KevoreeEntity",construct:function(){this.kCore=null,this.dictionary=new d(this),this.name=null,this.path=null,this.nodeName=null,this.started=!1},start:function(){this.log=this.kCore.getLogger(),this.started=!0},stop:function(){this.started=!1},setKevoreeCore:function(a){this.kCore=a},getKevoreeCore:function(){return this.kCore},getDictionary:function(){return this.dictionary},getName:function(){return this.name},getNodeName:function(){return this.nodeName},setName:function(a){this.name=a},setPath:function(a){this.path=a},getPath:function(){return this.path},setNodeName:function(a){this.nodeName=a},getModelEntity:function(){var a=this.kCore.getDeployModel();return a||(a=this.kCore.getCurrentModel()),a.findByPath(this.path)},getNetworkInfos:function(a){var b=this.kCore.getDeployModel();b||this.kCore.getCurrentModel();var c=b.findNodesByID(a);return c.networkInformation.iterator()},isStarted:function(){return this.started}});e.DIC="dic_",b.exports=e},{"./Dictionary":12,pseudoclass:25}],14:[function(a,b){var c=a("pseudoclass"),d=a("kevoree-commons").KevoreeLogger,e=(a("fs"),a("path"),a("events").EventEmitter),f=c({toString:"KevoreeUI",construct:function(a){this.comp=a,this.root=null,this.log=new d(this.toString()),this.name=null,this.destroyCmd=null,this.emitter=new e},isReady:function(){return null!=this.root},setRoot:function(a){this.root=a},getRoot:function(){return this.root},initialize:function(a,b,c){var d=this;return"undefined"==typeof b||null==b?c(new Error("KevoreeUI init command unset in KevoreeCore.")):void b(this,function(a){return a?(d.log.error(a.message),d.root=null,c(a)):c()})},setContent:function(a){this.root.innerHTML=a,this.emitter.emit("contentChanged",a)},destroy:function(){this.destroyCmd&&this.destroyCmd(),this.root=null},setDestroyCmd:function(a){this.destroyCmd=a},getName:function(){return this.name},setName:function(a){this.name=a,this.emitter.emit("nameChanged",a)},on:function(a,b){this.emitter.addListener(a,b)}});b.exports=f},{events:4,fs:3,"kevoree-commons":16,path:6,pseudoclass:25}],15:[function(a,b){var c=a("pseudoclass");b.exports=c({toString:"Port",construct:function(a,b){this.name=a,this.path=b,this.component=null,this.channel=null,this.inputPortMethodName=null},processSend:function(a){this.channel.internalSend(this.path,a)},setInputPortMethodName:function(a){this.inputPortMethodName=a},getInputPortMethodName:function(){return this.inputPortMethodName},getName:function(){return this.name},getPath:function(){return this.path},setComponent:function(a){this.component=a},getComponent:function(){return this.component},setChannel:function(a){this.channel=a}})},{pseudoclass:25}],16:[function(a,b){b.exports.Resolver=a("./lib/Resolver"),b.exports.Bootstrapper=a("./lib/Bootstrapper"),b.exports.KevoreeLogger=a("./lib/KevoreeLogger"),b.exports.FileSystem=a("./lib/FileSystem")},{"./lib/Bootstrapper":17,"./lib/FileSystem":18,"./lib/KevoreeLogger":19,"./lib/Resolver":20}],17:[function(a,b){var c=a("pseudoclass"),d=c({toString:"Bootstrapper",bootstrapNodeType:function(a,b,c){c=c||function(){};var d=b.findNodesByID(a);if(!d)return c(new Error("Unable to find '"+a+"' in the given model."));var e=d.typeDefinition.deployUnit;return e?void this.bootstrap(e,!1,c):c(new Error("'"+a+"' NodeType deploy units not found. Have you forgotten to merge nodetype library ?"))},bootstrap:function(){},uninstall:function(){}});b.exports=d},{pseudoclass:25}],18:[function(a,b){var c=a("pseudoclass"),d=c({toString:"FileSystem",getFileSystem:function(a,b){document?e(this,a,b):console.error("Kevoree FileSystem API only handles Browser FS for now.")}}),e=function(a,b,c){if(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,navigator.persistentStorage=navigator.persistentStorage||navigator.webkitPersistentStorage,window.requestFileSystem&&navigator.persistentStorage){var d=function(b){window.requestFileSystem(window.PERSISTENT,b,function(b){c.call(a,null,b)})},e=function(){c.call(a,null)};navigator.persistentStorage.requestQuota(b,d,e)}};b.exports=d},{pseudoclass:25}],19:[function(a,b){var c=a("pseudoclass"),d=a("chalk"),e=["all","info","debug","warn","error","quiet"],f=d.grey,g=d.grey.bgYellow,h=d.yellow,i=d.white.bgRed,j=d.red,k=d.cyan,l=c({toString:"KevoreeLogger",construct:function(a){this.tag=a,this.level=0,this.filter=""},info:function(a,b){this.level<=e.indexOf("info")&&("undefined"==typeof b&&(b=a,a=this.tag),(0===this.filter.length||this.filter.length>0&&a===this.filter)&&console.log(n()+"  "+f("INFO")+"   "+m(a)+"  "+f(b)))},debug:function(a,b){this.level<=e.indexOf("debug")&&("undefined"==typeof b&&(b=a,a=this.tag),(0===this.filter.length||this.filter.length>0&&a===this.filter)&&console.log(n()+"  "+k("DEBUG ")+" "+m(a)+"  "+k(b)))},warn:function(a,b){this.level<=e.indexOf("warn")&&("undefined"==typeof b&&(b=a,a=this.tag),(0===this.filter.length||this.filter.length>0&&a===this.filter)&&console.warn(n()+"  "+g("WARN")+"   "+m(a)+"  "+h(b)))},error:function(a,b){this.level<=e.indexOf("error")&&("undefined"==typeof b&&(b=a,a=this.tag),(0===this.filter.length||this.filter.length>0&&a===this.filter)&&console.error(n()+"  "+i("ERROR")+"  "+m(a)+"  "+j(b)))},setLevel:function(a){this.level=a,console.log(n()+"  "+f("ALL ")+"   "+m(this.toString())+"  "+f("Set logLevel= "+e[this.level]))},setFilter:function(a){this.filter=a,console.log(n()+"  "+f("ALL ")+"   "+m(this.toString())+"  "+f('Set logFilter= "'+this.filter+'"'))}}),m=function(a){if(a.length>=15)a=a.substr(0,14)+".";else{for(var b="",c=0;c<15-a.length;c++)b+=" ";a+=b}return d.magenta(a)},n=function(){var a=new Date,b=1==a.getHours().toString().length?"0"+a.getHours():a.getHours(),c=1==a.getMinutes().toString().length?"0"+a.getMinutes():a.getMinutes(),e=1==a.getSeconds().toString().length?"0"+a.getSeconds():a.getSeconds();return d.grey(b+":"+c+":"+e)};l.ALL=e.indexOf("all"),l.INFO=e.indexOf("info"),l.DEBUG=e.indexOf("debug"),l.WARN=e.indexOf("warn"),l.ERROR=e.indexOf("error"),l.QUIET=e.indexOf("quiet"),b.exports=l},{chalk:21,pseudoclass:25}],20:[function(a,b){var c=a("pseudoclass"),d=a("./KevoreeLogger"),e=c({toString:"Resolver",construct:function(a,b){this.modulesPath=a||"",this.log=b||new d(this.toString()),this.repositories=[]},resolve:function(){},uninstall:function(){},addRepository:function(a){-1===this.repositories.indexOf(a)&&this.repositories.push(a)}});b.exports=e},{"./KevoreeLogger":19,pseudoclass:25}],21:[function(a,b){"use strict";function c(){var a={};return Object.keys(i).forEach(function(b){a[b]={get:function(){var a=g(function c(){var a=[].slice.call(arguments).join(" ");return h.enabled?c._styles.reduce(function(a,b){var c=d[b];return a?c.open+a+c.close:""},a):a},i);return a._styles=[],a[b]}}}),a}var d=a("ansi-styles"),e=a("strip-ansi"),f=a("has-color"),g=Object.defineProperties,h=b.exports,i=function(){var a={};return d.grey=d.gray,Object.keys(d).forEach(function(b){a[b]={get:function(){return this._styles.push(b),this}}}),a}();g(h,c()),h.styles=d,h.stripColor=e,h.supportsColor=f,void 0===h.enabled&&(h.enabled=h.supportsColor)},{"ansi-styles":22,"has-color":23,"strip-ansi":24}],22:[function(a,b){"use strict";var c=b.exports,d={reset:[0,0],bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49]};Object.keys(d).forEach(function(a){var b=d[a],e=c[a]={};e.open="["+b[0]+"m",e.close="["+b[1]+"m"})},{}],23:[function(a,b){(function(a){"use strict";b.exports=function(){return-1!==a.argv.indexOf("--no-color")?!1:-1!==a.argv.indexOf("--color")?!0:a.stdout&&!a.stdout.isTTY?!1:"win32"===a.platform?!0:"COLORTERM"in a.env?!0:"dumb"===a.env.TERM?!1:/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(a.env.TERM)?!0:!1}()}).call(this,a("/home/leiko/dev/test-kev-lib-github/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js"))},{"/home/leiko/dev/test-kev-lib-github/node_modules/browserify/node_modules/insert-module-globals/node_modules/process/browser.js":5}],24:[function(a,b){"use strict";b.exports=function(a){return"string"==typeof a?a.replace(/\x1B\[([0-9]{1,2}(;[0-9]{1,2})?)?[m|K]/g,""):a}},{}],25:[function(a,b){!function(a){var c=function(){},d=/xyz/.test(function(){return"xyz"})?/\(\s*_super\b/:{test:function(){return!0}},e=function(a,_super){return a&&a.length&&a[0]===_super&&(a=Array.prototype.slice.call(a,1)),a},f=function(a,b,c,d){var _super;if(d){var f=c[a];_super=function(){return f.apply(this,arguments)},_super.apply=function(a,b){return Function.prototype.apply.call(f,a,e(b,_super))}}else _super=function(){return c[a].apply(this,arguments)},_super.apply=function(b,d){return Function.prototype.apply.call(c[a],b,e(d,_super))};return function(){var a=Array.prototype.slice.call(arguments);return a.unshift(_super),b.apply(this,a)}},g=function(a,b){b=b||this.constructor&&this.constructor.prototype;for(var c in a)if("construct"!==c&&"destruct"!==c){var e=b&&"function"==typeof a[c]&&"function"==typeof b[c]&&d.test(a[c]);this[c]=e?this.hasOwnProperty(c)?f(c,a[c],this,!0):f(c,a[c],b,!1):a[c]}},h=function(a){return a&&a.extend?a.extend.extend(a):h.extend(a)};h.prototype.mixin=g,h.extend=function i(a){function b(){if(this instanceof b==!1)throw new Error("Cannot create instance without new operator");this.construct.apply(this,arguments),this.init()}var d=this.prototype,e=Object.create(d);if(a){if(g.call(e,a,d),Array.isArray(a.mixins))for(var f=0,h=a.mixins.length;h>f;f++)g.call(e,a.mixins[f],e);if(a.construct&&d.construct?e.construct=function(){d.construct.apply(this,arguments),a.construct.apply(this,arguments)}:a.construct&&(e.construct=a.construct),a.destruct&&d.destruct?e.destruct=function(){a.destruct.apply(this,arguments),d.destruct.apply(this,arguments)}:a.destruct&&(e.destruct=a.destruct),"string"==typeof a.toString){var j=a.toString;e.toString=function(){return j}}}return"function"!=typeof e.construct&&(e.construct=c),"function"!=typeof e.init&&(e.init=c),e.constructor=b,e.superPrototype=d,b.prototype=e,b.extend=i,b},"undefined"!=typeof b&&b.exports?b.exports=h:"function"==typeof a.define?!function(a){a(function(){return h})}(a.define):a.Class=h}(this)},{}]},{},["sSC7Dr"]);